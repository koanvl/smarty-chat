<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white shadow-lg rounded-lg">
      <div class="p-4 border-b bg-gray-50">
        <h2 class="text-xl font-semibold">Chat</h2>
        <p class="text-sm text-gray-500">Session ID: <%= @session_id %></p>
      </div>
      
      <div id="chat-messages" class="p-4 h-96 overflow-y-auto" data-controller="chat" data-chat-session-value="<%= @session_id %>">
        <%= turbo_stream_from "chat" %>
        
        <div id="messages">
          <%= render @messages %>
        </div>
      </div>
      
      <div class="p-4 border-t">
        <div class="flex gap-2" data-controller="chat">
          <%= form_with(url: "#", class: "flex-1 flex gap-2") do |f| %>
            <%= f.text_area :content,
                           class: "flex-1 border rounded-lg p-2",
                           placeholder: "Type your message...",
                           rows: 1,
                           data: { action: "keydown->chat#submit" } %>
            
            <button type="button" 
                    class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
                    data-action="click->chat#submit">
              Send
            </button>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>